// Import styles first (required by Sass @use rules)
@use 'equipment' as *;
@use 'z-index' as *;
@use '_tabs' as *;
@use 'character-sheet' as *;

/* ================================================================
   OSP House Rules Font Configuration
   ================================================================
   
   Primary Font: Minion Pro
   - Professional serif typeface designed by Robert Slimbach
   - Excellent readability for RPG character sheets
   - Classical aesthetic appropriate for fantasy gaming
   
   Fallback Chain:
   1. 'Minion Pro' - Primary choice
   2. 'Adobe Minion Pro' - Adobe's version
   3. 'Minion' - Simplified name variant
   4. 'Times New Roman' - Widely available serif fallback
   5. Times - System Times variant
   6. serif - Generic serif fallback
   
   ================================================================ */

/* Global Font Configuration - Minion Pro for entire OSP module */
.osp,
.osp *,
form.osp,
form.osp *,
.application.window-app.sheet.actor.character.osp,
.application.window-app.sheet.actor.character.osp * {
  font-family: 'Minion Pro', 'Adobe Minion Pro', 'Minion', 'Times New Roman', Times, serif !important;
}

/* Ensure all form elements inherit Minion Pro */
.osp input,
.osp select,
.osp textarea,
.osp button,
form.osp input,
form.osp select,
form.osp textarea,
form.osp button {
  font-family: 'Minion Pro', 'Adobe Minion Pro', 'Minion', 'Times New Roman', Times, serif !important;
}

/* Font loading and fallback management */
@supports (font-family: 'Minion Pro') {
  .osp {
    font-family: 'Minion Pro', serif !important;
  }
}

// Layout system styles
.draggable-field {
  transition: opacity 0.2s ease, z-index 0.2s ease;
  
  &.dragging {
    opacity: 0.8;
  z-index: var(--z-overlay, 1000);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  .drag-handle {
    transition: opacity 0.2s ease;
  }
}

.layout-controls {
  .layout-btn {
    transition: background-color 0.2s ease, transform 0.1s ease;
    
    &:hover {
      background: #2d3748 !important;
      transform: scale(1.1);
    }
    
    &:active {
      transform: scale(0.95);
    }
  }
}

.grid-overlay {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

// Ensure tab items are clickable
.sheet-tabs .item {
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* Remove thin 1px separators that appear above the first tab and below the last tab */
body.game .sheet.app nav.sheet-tabs {
  border-top: none !important;
  border-bottom: none !important;
}
